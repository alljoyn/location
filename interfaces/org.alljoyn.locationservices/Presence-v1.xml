<?xml version="1.0"?>
<node xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://www.alljoyn.org/schemas/introspect.xsd">
  <interface name="org.alljoyn.locationservices.Presence.Presence">
   <property name="Version" type="q" access="read"/>
    <struct name="PresenceEntity">
      <field name="entityDescriptor" type="s"/>
      <field name="entityMAC" type="ay"/>
      <field name="present" type="b"/>
    </struct>
    <struct name="PresenceFilter">
      <field name="descriptorParser" type="s"/>
      <field name="macParser" type="s"/>
    </struct>
    <!-- Request presence tracking of entities that match the filter parsers.  
         Signals tagged with the returned tracker value are relevant; 
         other signals should be ignored.
    -->
    <method name="PresenceSubscribe">
      <arg name="filter" type="[PresenceFilter]" direction="in"/>
      <arg name="presenceTracker" type="o" direction="out"/>
    </method>

    <!-- Query for all entities that match the passed filter -->
    <method name="QueryPresence">
      <arg name="filter" type="[PresenceFilter]" direction="in"/>
      <arg name="presentEntities" type="a[presenceEntity]" direction="out"/>
    </method>

    <!-- Convieniece method for quering a single entity - call QueryPresence with correct filter-->
    <method name="QueryPresenceEntity">
      <arg name="entity" type="[PresenceEntity]" direction="in"/>
      <arg name="present" type="b" direction="out"/>
    </method>

    <!-- Convieniece method for quering all entities - calls QueryPresence with correct filter -->
    <method name="QueryPresenceAll">
      <arg name="presentEntities" type="a[PresenceEntity]" direction="out"/>
    </method>
  </interface>
</node>
